(("undefined"!==typeof self?self:this)["webpackChunklonghorn_0_1_0"]=("undefined"!==typeof self?self:this)["webpackChunklonghorn_0_1_0"]||[]).push([[907],{10176:function(t,e,a){var r=a(99783);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.id,r,""]]),r.locals&&(t.exports=r.locals);var o=a(74825).A;o("2703d970",r,!0,{sourceMap:!1,shadowMode:!1})},45042:function(t,e,a){"use strict";a.r(e);var r=a(36758),o=a.n(r),s=a(40935),n=a.n(s),l=n()(o());l.push([t.id,".card-container[data-v-52307124]{border-radius:var(--border-radius);display:flex;flex-basis:40%;margin:10px;min-height:100px;padding:10px;box-shadow:0 0 20px var(--shadow)}.card-container.highlight-border[data-v-52307124]{border-left:5px solid var(--primary)}.card-container[data-v-52307124]:not(.top){align-items:top;flex-direction:row;justify-content:start}.card-container .card-wrap[data-v-52307124]{width:100%}.card-container .card-body[data-v-52307124]{color:var(--input-label);display:flex;flex-direction:column;justify-content:center}.card-container .card-actions[data-v-52307124]{align-self:end;display:flex;padding-top:20px}.card-container .card-title[data-v-52307124]{align-items:center;display:flex;width:100%}.card-container .card-title h5[data-v-52307124]{margin:0}.card-container .card-title .flex-right[data-v-52307124]{margin-left:auto}.card-container.card-sticky[data-v-52307124]{overflow:hidden}.card-container.card-sticky .card-wrap[data-v-52307124]{display:flex;flex-direction:column}.card-container.card-sticky .card-wrap .card-body[data-v-52307124]{justify-content:flex-start;overflow:auto}.card-container.card-sticky .card-wrap[data-v-52307124]>*{flex:0}.card-container.card-sticky .card-wrap .card-body[data-v-52307124]{flex:1}",""]),e["default"]=l},52690:function(t,e,a){var r=a(45042);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.id,r,""]]),r.locals&&(t.exports=r.locals);var o=a(74825).A;o("b3512bfa",r,!0,{sourceMap:!1,shadowMode:!1})},77651:function(t,e,a){"use strict";var r=a(76978),o=a(56158);e.A={data(){return{fvFormRuleSets:[],fvReportedValidationPaths:[]}},methods:{fvGetPathRules(t){return this.fvRulesets.find(e=>e.path===t)?.rules||[]},fvGetAndReportPathRules(t){const e=this.fvGetPathRules(t);return e.length>0&&!this.fvReportedValidationPaths.includes(t)&&(this.fvReportedValidationPaths=[...this.fvReportedValidationPaths,t]),e},fvGetPathValues(t){const e=this.fvRulesets.find(e=>e.path===t);return e?(0,r.Ib)(e?.rootObject||this.value,e?.path):[]},fvGetValues(t,e,a){return a.length>1&&"object"===typeof t&&!Array.isArray(t)&&null!==t?{...t,idx:e}:t},fvGetPathErrors(t=[]){const e=t.reduce((t,e)=>{const a=[],r=this.fvGetPathRules(e),o=this.fvGetPathValues(e).map(this.fvGetValues);return r.forEach(t=>{o.forEach(e=>{a.push(t(e))})}),[...t,...a].filter(Boolean)},[]);return e}},computed:{fvExtraRules(){return{}},fvRulesets(){const t=()=>{};return[...this.fvFormRuleSets.map(e=>{const a={...(0,o.A)(this.$store.getters["i18n/t"],{displayKey:e?.translationKey?this.$store.getters["i18n/t"](e.translationKey):"Value"}),...this.fvExtraRules};return{...e,rules:e.rules.map(e=>a[e]||t),formValidationRule:!0}}),...(this?.value?.modelValidationRules||[]).map(t=>({...t,formValidationRule:!1}))]},fvUnreportedValidationErrors(){const t=this.fvRulesets.filter(t=>!!t.formValidationRule&&!this.fvReportedValidationPaths.includes(t.path)).map(t=>t.path),e=this.fvGetPathErrors(t),a=this.value.customValidationErrors?this.value.customValidationErrors(this.value,this.fvReportedValidationPaths):[];return[...e,...a,...this.errors||[]]},fvValidationErrors(){const t=this.fvRulesets.filter(t=>!!t.formValidationRule).map(t=>t.path),e=this.fvGetPathErrors(t),a=this.value.customValidationErrors?this.value.customValidationErrors(this.value):[];return[...e,...a]},fvFormIsValid(){return 0===this.fvValidationErrors.length}}}},94438:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return g}});var r=a(9274);const o={class:"actions-row"};function s(t,e,a,s,n,l){const i=(0,r.resolveComponent)("LabeledInput"),d=(0,r.resolveComponent)("AsyncButton"),c=(0,r.resolveComponent)("Card");return(0,r.openBlock)(),(0,r.createBlock)(c,{"show-highlight-border":!1},{title:(0,r.withCtx)(()=>e[4]||(e[4]=[(0,r.createElementVNode)("h4",null,"Restore System Backup",-1)])),body:(0,r.withCtx)(()=>[(0,r.createVNode)(i,{value:n.value.name,"onUpdate:value":e[0]||(e[0]=t=>n.value.name=t),class:"mt-10 mb-10",label:"Name",rules:t.fvGetAndReportPathRules("name"),required:""},null,8,["value","rules"]),(0,r.createVNode)(i,{value:n.value.version,"onUpdate:value":e[1]||(e[1]=t=>n.value.version=t),class:"mb-15",label:"Version",disabled:""},null,8,["value"]),(0,r.createVNode)(i,{value:n.value.systemBackup,"onUpdate:value":e[2]||(e[2]=t=>n.value.systemBackup=t),label:"System Backup",disabled:""},null,8,["value"])]),actions:(0,r.withCtx)(()=>[(0,r.createElementVNode)("div",o,[(0,r.createElementVNode)("button",{class:"btn role-secondary mr-10",onClick:e[3]||(e[3]=(...t)=>l.close&&l.close(...t))},"Cancel"),(0,r.createVNode)(d,{type:"submit",class:"btn bg-primary",disabled:!t.fvFormIsValid,onClick:l.restore},null,8,["disabled","onClick"])])]),_:1})}const n={class:"card-wrap"},l={class:"card-title","data-testid":"card-title-slot"},i={class:"card-body","data-testid":"card-body-slot"},d={key:0,class:"card-actions","data-testid":"card-actions-slot"};function c(t,e,a,o,s,c){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{id:"focus-trap-card-container-element",class:(0,r.normalizeClass)(["card-container",{"highlight-border":t.showHighlightBorder,"card-sticky":t.sticky}]),"data-testid":"card"},[(0,r.createElementVNode)("div",n,[(0,r.createElementVNode)("div",l,[(0,r.renderSlot)(t.$slots,"title",{},()=>[(0,r.createTextVNode)((0,r.toDisplayString)(t.title),1)],!0)]),e[1]||(e[1]=(0,r.createElementVNode)("hr",{role:"none"},null,-1)),(0,r.createElementVNode)("div",i,[(0,r.renderSlot)(t.$slots,"body",{},()=>[(0,r.createTextVNode)((0,r.toDisplayString)(t.content),1)],!0)]),t.showActions?((0,r.openBlock)(),(0,r.createElementBlock)("div",d,[(0,r.renderSlot)(t.$slots,"actions",{},()=>[(0,r.createElementVNode)("button",{class:"btn role-primary",onClick:e[0]||(e[0]=(...e)=>t.buttonAction&&t.buttonAction(...e))},(0,r.toDisplayString)(t.buttonText),1)],!0)])):(0,r.createCommentVNode)("",!0)])],2)}var u=(0,r.defineComponent)({name:"Card",props:{title:{type:String,default:""},content:{type:String,default:""},buttonAction:{type:Function,default:()=>{}},buttonText:{type:String,default:"go"},showHighlightBorder:{type:Boolean,default:!0},showActions:{type:Boolean,default:!0},sticky:{type:Boolean,default:!1}}}),h=(a(52690),a(47433));const v=(0,h.A)(u,[["render",c],["__scopeId","data-v-52307124"]]);var p=v,f=a(79380),m=a(67607),y=a(77651),b={name:"SystemBackupRestore",emits:["close"],components:{Card:p,LabeledInput:f.o,AsyncButton:m.A},mixins:[y.A],props:{resources:{type:Array,default:()=>[]}},data(){return{value:{name:"",version:"",systemBackup:""},fvFormRuleSets:[{path:"name",rules:["required"]}]}},computed:{resource(){return this.resources?.[0]||{}}},mounted(){this.value.version=this.resource?.status?.version||"",this.value.systemBackup=this.resource?.metadata?.name||""},methods:{close(){this.$emit("close")},restore(){this.close()}}};a(10176);const V=(0,h.A)(b,[["render",s],["__scopeId","data-v-58c9ad87"]]);var g=V},99783:function(t,e,a){"use strict";a.r(e);var r=a(36758),o=a.n(r),s=a(40935),n=a.n(s),l=n()(o());l.push([t.id,".actions-row[data-v-58c9ad87]{display:flex;justify-content:flex-end;width:100%}",""]),e["default"]=l}}]);
//# sourceMappingURL=longhorn-0.1.0.umd.min.dialog.js.map