{"version":3,"file":"longhorn-0.1.0.umd.min.list.js","mappings":"4dAWA,MAAMA,EAAQC,EAWRC,GAAQC,EAAAA,EAAAA,MAERC,GAAYC,EAAAA,EAAAA,MAAI,GAChBC,GAAYD,EAAAA,EAAAA,KAAI,MAEhBE,GAAUC,EAAAA,EAAAA,UAAS,IAAMN,EAAMO,QAAQ,kBAAkBF,SAEzDG,GAAeF,EAAAA,EAAAA,UAAS,IACvBD,EAAQI,OACNT,EAAMO,QAAQ,GAAGF,EAAQI,aAAaX,EAAMY,WADxB,IAIvBC,GAAOL,EAAAA,EAAAA,UAAS,IAAME,EAAaC,OAEzCG,eAAeC,IAIb,GAHAX,EAAUO,OAAQ,EAClBL,EAAUK,MAAQ,MAEbJ,EAAQI,MAGT,OAFAL,EAAUK,MAAQ,IAAIK,MAAM,wCAC5BZ,EAAUO,OAAQ,GAItB,IACE,MAAMM,EAAO,CACXC,aAAchB,EAAMiB,SAAS,GAAGZ,EAAQI,gBAAiB,CACrDS,KAAMpB,EAAMY,WAGhBS,mBAAoBnB,EAAMiB,SAAS,GAAGZ,EAAQI,aAAc,CAC1DS,KAAME,EAAAA,EAAmBC,SACzBC,GAAIC,EAAAA,EAAsBC,8BAIxBC,EAAAA,EAAAA,IAAQV,EAEhB,CAAE,MAAOW,GACPC,EAAQC,MAAM,mBAAmB9B,EAAMY,iBAAkBgB,GACzDtB,EAAUK,MAAQiB,CACpB,CAAE,QACAxB,EAAUO,OAAQ,CACpB,CACF,C,OAEAoB,EAAAA,EAAAA,WAAUhB,GACViB,EAAa,CAAE1B,YAAWS,c,OAITX,EAAAO,Q,kBAAfsB,EAAAA,EAAAA,cAA4BC,EAAAA,EAAAA,OAAAC,EAAAA,GAAA,CAAAC,IAAA,KACZ9B,EAAAK,Q,kBAAhB0B,EAAAA,EAAAA,oBAEM,MAAAC,EAFqB,yBACLC,EAAAA,EAAAA,iBAAGjC,EAAAK,MAAU6B,SAAWC,OAAOnC,EAAAK,QAAS,M,kBAE9D0B,EAAAA,EAAAA,oBAEM,MAAAK,EAAA,EADJC,EAAAA,EAAAA,cAAqDT,EAAAA,EAAAA,OAAAU,EAAAA,GAAA,CAArC/B,KAAMA,EAAAF,MAAOkC,OAAQ7C,EAAM6C,Q,+BC3E/C,MAAMC,EAAc,EAEpB,O","sources":["webpack://longhorn-0.1.0/./list/longhorn.io.engineimage.vue","webpack://longhorn-0.1.0/./list/longhorn.io.engineimage.vue?583f"],"sourcesContent":["<script setup>\nimport { ref, computed, onMounted } from 'vue';\nimport { useStore } from 'vuex';\nimport Loading from \"@shell/components/Loading\";\nimport ResourceTable from \"@shell/components/ResourceTable\";\nimport { allHash } from \"@shell/utils/promise\";\nimport {\n  LONGHORN_RESOURCES,\n  LONGHORN_RESOURCE_IDS,\n} from \"../constants/resources\";\n\nconst props = defineProps({\n  resource: {\n    type: String,\n    required: true,\n  },\n  schema: {\n    type: Object,\n    required: true,\n  },\n});\n\nconst store = useStore();\n\nconst isLoading = ref(true);\nconst loadError = ref(null);\n\nconst inStore = computed(() => store.getters[\"currentProduct\"].inStore);\n\nconst allResources = computed(() => {\n  if (!inStore.value) return [];\n  return store.getters[`${inStore.value}/all`](props.resource) || [];\n});\n\nconst rows = computed(() => allResources.value);\n\nasync function fetchData() {\n  isLoading.value = true;\n  loadError.value = null;\n\n  if (!inStore.value) {\n      loadError.value = new Error(\"Vuex store namespace not found.\");\n      isLoading.value = false;\n      return;\n  }\n\n  try {\n    const hash = {\n      engineImages: store.dispatch(`${inStore.value}/findAll`, {\n          type: props.resource\n      }),\n\n      defaultEngineImage: store.dispatch(`${inStore.value}/find`, {\n        type: LONGHORN_RESOURCES.SETTINGS,\n        id: LONGHORN_RESOURCE_IDS.DEFAULT_ENGINE_IMAGE,\n      }),\n    };\n\n    await allHash(hash);\n\n  } catch (e) {\n    console.error(`Failed to fetch ${props.resource} data:`, e);\n    loadError.value = e;\n  } finally {\n    isLoading.value = false;\n  }\n}\n\nonMounted(fetchData);\ndefineExpose({ loadError, fetchData })\n</script>\n\n<template>\n  <Loading v-if=\"isLoading\" />\n  <div v-else-if=\"loadError\">\n    Error loading data: {{ loadError.message || String(loadError) }}\n  </div>\n  <div v-else>\n    <ResourceTable :rows=\"rows\" :schema=\"props.schema\" />\n  </div>\n</template>","import script from \"./longhorn.io.engineimage.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./longhorn.io.engineimage.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["props","__props","store","useStore","isLoading","ref","loadError","inStore","computed","getters","allResources","value","resource","rows","async","fetchData","Error","hash","engineImages","dispatch","type","defaultEngineImage","LONGHORN_RESOURCES","SETTINGS","id","LONGHORN_RESOURCE_IDS","DEFAULT_ENGINE_IMAGE","allHash","e","console","error","onMounted","__expose","_createBlock","_unref","Loading","key","_createElementBlock","_hoisted_1","_toDisplayString","message","String","_hoisted_2","_createVNode","ResourceTable","schema","__exports__"],"ignoreList":[],"sourceRoot":""}