(("undefined"!==typeof self?self:this)["webpackChunklonghorn_0_1_0"]=("undefined"!==typeof self?self:this)["webpackChunklonghorn_0_1_0"]||[]).push([[715],{546:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var a=r(9274),o=r(65359),s=r(87619),n=r(55008),l=r(68745),i=r(88339),c=r(3524);const d={key:1};var u={__name:"longhorn.io.systemrestore",props:{resource:{type:String,required:!0,default:c.Y.SYSTEM_RESTORE},schema:{type:Object,required:!0}},setup(e,{expose:t}){const r=e,u=(0,o.Pj)(),p=(0,a.ref)(!0),g=(0,a.ref)(null),m=(0,a.computed)(()=>u.getters["currentProduct"].inStore),v=(0,a.computed)(()=>m.value&&u.getters[`${m.value}/all`](r.resource)||[]),h=(0,a.computed)(()=>v.value);async function f(){if(p.value=!0,g.value=null,!m.value)return g.value=new Error("Vuex store namespace not found."),void(p.value=!1);try{const e={systemRestore:u.dispatch(`${m.value}/findAll`,{type:r.resource}),systemBackup:u.dispatch(`${m.value}/findAll`,{type:c.Y.SYSTEM_BACKUPS})};await(0,i.kR)(e)}catch(e){g.value=e}finally{p.value=!1}}return(0,a.onMounted)(f),t({loadError:g,fetchData:f}),(e,t)=>p.value?((0,a.openBlock)(),(0,a.createBlock)((0,a.unref)(s.A),{key:0})):((0,a.openBlock)(),(0,a.createElementBlock)("div",d,[g.value?((0,a.openBlock)(),(0,a.createBlock)(l.A,{key:0,color:"error"},{default:(0,a.withCtx)(()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.t("error.fetchError",{message:g.value.message||String(g.value)})),1)]),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)((0,a.unref)(n.A),{rows:h.value,schema:r.schema},null,8,["rows","schema"])]))}};const p=u;var g=p},32951:function(e,t,r){"use strict";r.r(t);var a=r(36758),o=r.n(a),s=r(40935),n=r.n(s),l=n()(o());l.push([e.id,".settings-container[data-v-500735f0]{display:flex;flex-direction:column;gap:24px}.setting-row.box[data-v-500735f0]{border:1px solid var(--border);padding:15px;border-radius:var(--border-radius)}.title[data-v-500735f0]{display:flex;align-items:center;gap:8px}.title.clickable[data-v-500735f0]{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none}.title h2[data-v-500735f0]{margin-bottom:0}.group[data-v-500735f0]{display:flex;flex-direction:column;gap:24px}.checkbox-row[data-v-500735f0]{display:flex;align-items:center;gap:12px}.checkbox-row h3[data-v-500735f0]{margin:0;line-height:1}.checkbox-row .clickable-label[data-v-500735f0]{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none}.input-row[data-v-500735f0]{display:flex;align-items:center;gap:12px}.input-row h3[data-v-500735f0]{margin:0;line-height:1;white-space:nowrap}.input-row .labeled-input[data-v-500735f0]{max-width:150px}.select-row[data-v-500735f0]{display:flex;align-items:center;gap:12px}.select-row h3[data-v-500735f0]{margin:0;line-height:1;white-space:nowrap}.select-row[data-v-500735f0] .labeled-select{max-width:280px}.description .text-label[data-v-500735f0]{white-space:pre-line}.json-field-row[data-v-500735f0]{display:flex;align-items:center;gap:12px}.json-field-row .json-field-label[data-v-500735f0]{margin:0;white-space:nowrap;font-size:14px;font-weight:400}.json-field-row[data-v-500735f0] .labeled-select{max-width:280px}.col[data-v-500735f0]{max-width:100%!important}",""]),t["default"]=l},37239:function(e,t,r){var a=r(32951);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var o=r(74825).A;o("4a2559c0",a,!0,{sourceMap:!1,shadowMode:!1})},40569:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return re}});var a=r(9274);const o={key:1,class:"longhorn-settings"},s={class:"header"},n={key:2};function l(e,t,r,l,i,c){const d=(0,a.resolveComponent)("Loading"),u=(0,a.resolveComponent)("Banner"),p=(0,a.resolveComponent)("SettingsForm"),g=(0,a.resolveComponent)("AsyncButton");return e.$fetchState.pending?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0})):((0,a.openBlock)(),(0,a.createElementBlock)("div",o,[(0,a.createElementVNode)("div",s,[(0,a.createElementVNode)("h1",null,(0,a.toDisplayString)(e.t("longhorn.settings.title")),1)]),i.loadError?((0,a.openBlock)(),(0,a.createBlock)(u,{key:0,color:"error"},{default:(0,a.withCtx)(()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.t("longhorn.settings.fetchError",{error:i.loadError.message})),1)]),_:1})):(0,a.createCommentVNode)("",!0),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(i.errors,(e,t)=>((0,a.openBlock)(),(0,a.createBlock)(u,{key:t,color:"error"},{default:(0,a.withCtx)(()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e),1)]),_:2},1024))),128)),!i.loadError&&Object.keys(i.settings).length>0?((0,a.openBlock)(),(0,a.createBlock)(p,{key:1,class:"mt-10",settings:i.settings,groups:i.groups,values:i.values,mode:"edit","onUpdate:value":c.handleUpdate},null,8,["settings","groups","values","onUpdate:value"])):(0,a.createCommentVNode)("",!0),c.canEdit?((0,a.openBlock)(),(0,a.createElementBlock)("div",n,[(0,a.createVNode)(g,{class:"pull-right mt-30","action-label":e.t("longhorn.settings.apply"),onClick:c.save},null,8,["action-label","onClick"])])):(0,a.createCommentVNode)("",!0)]))}var i=r(76776),c=r.n(i);r(35664),r(52610),r(38823);const d=[{id:"ClusterIP",label:"servicesPage.serviceTypes.clusterIp.label",description:"servicesPage.serviceTypes.clusterIp.description",bannerAbbrv:"servicesPage.serviceTypes.clusterIp.abbrv"},{id:"ExternalName",label:"servicesPage.serviceTypes.externalName.label",description:"servicesPage.serviceTypes.externalName.description",bannerAbbrv:"servicesPage.serviceTypes.externalName.abbrv"},{id:"Headless",label:"servicesPage.serviceTypes.headless.label",description:"servicesPage.serviceTypes.headless.description",bannerAbbrv:"servicesPage.serviceTypes.headless.abbrv"},{id:"LoadBalancer",label:"servicesPage.serviceTypes.loadBalancer.label",description:"servicesPage.serviceTypes.loadBalancer.description",bannerAbbrv:"servicesPage.serviceTypes.loadBalancer.abbrv"},{id:"NodePort",label:"servicesPage.serviceTypes.nodePort.label",description:"servicesPage.serviceTypes.nodePort.description",bannerAbbrv:"servicesPage.serviceTypes.nodePort.abbrv"}];(()=>{const e=c()(d,["id","Headless"]);e.id})(),(()=>{const e=c()(d,["id","ClusterIP"]);e.id})();function u(e,t,r,a,o,s){const n=`/k8s/clusters/${escape(e)}/api/v1/namespaces/${escape(t)}/services`;return p(n,a,r,o,s)}function p(e,t,r,a,o){const s=(t?`${escape(t)}:`:"")+escape(r)+(a?`:${escape(a)}`:""),n=`/${(o||"").replace(/^\/+/g,"")}`,l=e.replace(/\/+$/g,""),i=`${l}/${s}/proxy${n}`;return i}var g=r(3524),m=r(18418),v=r(87619),h=r(67607),f=r(9980);const y={class:"settings-container"},k={class:"header"},b=["onClick","onKeydown"],E={class:"label"},B={key:0,class:"body"},x={class:"group mt-10"},w={class:"checkbox-row"},V=["onClick"],N={key:0,class:"text-error"},S={key:0,class:"description mt-10"},C=["innerHTML"],A={class:"input-row"},T={key:0,class:"label"},O={key:0,class:"text-error"},P={key:0,class:"description mt-10"},$=["innerHTML"],_={class:"header"},M={class:"title"},D={key:0,class:"label"},j={key:0,class:"text-error"},q={class:"body mt-10"},I={class:"json-field-label"},L={key:1,class:"select-row"},U={key:0,class:"label"},F={key:0,class:"text-error"},G={key:2,class:"description mt-10"},R=["innerHTML"];function J(e,t,r,o,s,n){const l=(0,a.resolveComponent)("Checkbox"),i=(0,a.resolveComponent)("LabeledInput"),c=(0,a.resolveComponent)("LabeledSelect");return(0,a.openBlock)(),(0,a.createElementBlock)("div",y,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.groups,e=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e.name,class:"setting-row box"},[(0,a.createElementVNode)("div",k,[(0,a.createElementVNode)("div",{class:"title clickable",tabindex:"0",role:"button",onClick:t=>n.toggleGroup(e.name),onKeydown:(0,a.withKeys)((0,a.withModifiers)(t=>n.toggleGroup(e.name),["stop","prevent"]),["space","enter"])},[(0,a.createElementVNode)("i",{class:(0,a.normalizeClass)({["icon icon-chevron-right"]:!n.isExpanded(e.name),["icon icon-chevron-down"]:n.isExpanded(e.name)})},null,2),(0,a.createElementVNode)("h2",E,(0,a.toDisplayString)(e.label),1)],40,b)]),n.isExpanded(e.name)?((0,a.openBlock)(),(0,a.createElementBlock)("div",B,[(0,a.createElementVNode)("div",x,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.children,e=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:e,class:"setting-row"},["bool"===r.settings[e].type?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createElementVNode)("div",w,[r.settings[e].label?((0,a.openBlock)(),(0,a.createElementBlock)("h3",{key:0,class:"label clickable-label",onClick:t=>!r.settings[e].readOnly&&n.updateValue(e,!n.getValue(e))},[r.settings[e].required?((0,a.openBlock)(),(0,a.createElementBlock)("span",N,"* ")):(0,a.createCommentVNode)("",!0),(0,a.createTextVNode)((0,a.toDisplayString)(r.settings[e].label)+": ",1)],8,V)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(l,{value:n.getValue(e),mode:r.mode,disabled:r.settings[e].readOnly,required:r.settings[e].required,"onUpdate:value":t=>n.updateValue(e,t)},null,8,["value","mode","disabled","required","onUpdate:value"])]),r.settings[e].description?((0,a.openBlock)(),(0,a.createElementBlock)("div",S,[(0,a.createElementVNode)("label",{class:"text-label",innerHTML:n.formatDescription(r.settings[e].description)},null,8,C)])):(0,a.createCommentVNode)("",!0)],64)):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},["int"===r.settings[e].type?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createElementVNode)("div",A,[r.settings[e].label?((0,a.openBlock)(),(0,a.createElementBlock)("h3",T,[r.settings[e].required?((0,a.openBlock)(),(0,a.createElementBlock)("span",O,"* ")):(0,a.createCommentVNode)("",!0),(0,a.createTextVNode)((0,a.toDisplayString)(r.settings[e].label)+": ",1)])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(i,{value:n.getValue(e),mode:r.mode,type:"number",disabled:r.settings[e].readOnly,required:r.settings[e].required,"onUpdate:value":t=>n.updateValue(e,t)},null,8,["value","mode","disabled","required","onUpdate:value"])]),r.settings[e].description?((0,a.openBlock)(),(0,a.createElementBlock)("div",P,[(0,a.createElementVNode)("label",{class:"text-label",innerHTML:n.formatDescription(r.settings[e].description)},null,8,$)])):(0,a.createCommentVNode)("",!0)],64)):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[r.settings[e].isJsonObject?((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:0},[(0,a.createElementVNode)("div",_,[(0,a.createElementVNode)("div",M,[r.settings[e].label?((0,a.openBlock)(),(0,a.createElementBlock)("h3",D,[r.settings[e].required?((0,a.openBlock)(),(0,a.createElementBlock)("span",j,"* ")):(0,a.createCommentVNode)("",!0),(0,a.createTextVNode)((0,a.toDisplayString)(r.settings[e].label),1)])):(0,a.createCommentVNode)("",!0)])]),(0,a.createElementVNode)("div",q,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(r.settings[e].jsonKeys,t=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{key:t,class:"json-field-row mb-10"},[(0,a.createElementVNode)("h4",I,(0,a.toDisplayString)(t.toUpperCase())+" Data Engine:",1),r.settings[e].options?((0,a.openBlock)(),(0,a.createBlock)(c,{key:0,value:(n.getValue(e)||{})[t],mode:r.mode,options:r.settings[e].options,disabled:r.settings[e].readOnly,"onUpdate:value":r=>n.updateJsonField(e,t,r)},null,8,["value","mode","options","disabled","onUpdate:value"])):((0,a.openBlock)(),(0,a.createBlock)(i,{key:1,value:(n.getValue(e)||{})[t],mode:r.mode,disabled:r.settings[e].readOnly,"onUpdate:value":r=>n.updateJsonField(e,t,r)},null,8,["value","mode","disabled","onUpdate:value"]))]))),128))])],64)):((0,a.openBlock)(),(0,a.createElementBlock)("div",L,[r.settings[e].label?((0,a.openBlock)(),(0,a.createElementBlock)("h3",U,[r.settings[e].required?((0,a.openBlock)(),(0,a.createElementBlock)("span",F,"* ")):(0,a.createCommentVNode)("",!0),(0,a.createTextVNode)((0,a.toDisplayString)(r.settings[e].label)+": ",1)])):(0,a.createCommentVNode)("",!0),r.settings[e].options?((0,a.openBlock)(),(0,a.createBlock)(c,{key:1,value:n.getValue(e),mode:r.mode,options:r.settings[e].options,disabled:r.settings[e].readOnly,required:r.settings[e].required,"onUpdate:value":t=>n.updateValue(e,t)},null,8,["value","mode","options","disabled","required","onUpdate:value"])):((0,a.openBlock)(),(0,a.createBlock)(i,{key:2,value:n.getValue(e),mode:r.mode,disabled:r.settings[e].readOnly,required:r.settings[e].required,"onUpdate:value":t=>n.updateValue(e,t)},null,8,["value","mode","disabled","required","onUpdate:value"]))])),r.settings[e].description?((0,a.openBlock)(),(0,a.createElementBlock)("div",G,[(0,a.createElementVNode)("label",{class:"text-label",innerHTML:n.formatDescription(r.settings[e].description)},null,8,R)])):(0,a.createCommentVNode)("",!0)],64))],64))]))),128))])])):(0,a.createCommentVNode)("",!0)]))),128))])}var Y=r(79380),H=r(42200),K=r(90175),z={name:"SettingsForm",components:{LabeledInput:Y.o,Checkbox:H.S,LabeledSelect:K.A},props:{settings:{type:Object,required:!0},groups:{type:Array,default:()=>[]},values:{type:Object,required:!0},mode:{type:String,default:"edit"}},emits:["update:value"],data(){return{expandedGroups:{}}},mounted(){this.groups.forEach((e,t)=>{this.expandedGroups[e.name]=0===t})},methods:{isExpanded(e){return!1!==this.expandedGroups[e]},toggleGroup(e){this.expandedGroups[e]=!this.expandedGroups[e]},getValue(e){return this.values[e]},updateValue(e,t){const r={...this.values,[e]:t};this.$emit("update:value",r)},updateJsonField(e,t,r){const a=this.getValue(e)||{},o={...a,[t]:r};this.updateValue(e,o)},formatDescription(e){return e?e.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>"):""}}},W=(r(37239),r(47433));const Q=(0,W.A)(z,[["render",J],["__scopeId","data-v-500735f0"]]);var X=Q,Z=r(4364),ee={name:"LonghornSettings",components:{Loading:v.A,AsyncButton:h.A,Banner:f.l,SettingsForm:X},props:{resource:{type:String,required:!0},schema:{type:Object,required:!0}},async fetch(){const e=this.$route.params.cluster,t=u(e,m.md,"longhorn-frontend","http","80","/v1/settings");try{await this.$store.dispatch(`${this.inStore}/findAll`,{type:g.Y.SETTINGS});const e=await this.$store.dispatch(`${this.inStore}/request`,{url:t});Z.log("Settings API response:",e),Z.log("Rows from store:",this.rows),e?.data&&(this.settingsApiData=e.data,this.processSettings())}catch(r){Z.error("Fetch error:",r),this.loadError=r}},data(){return{settings:{},groups:[],values:{},loadError:null,errors:[],settingsApiData:[],originalValues:{},resourceMap:{}}},computed:{inStore(){return this.$store.getters["currentProduct"].inStore},rows(){if(!this.inStore)return[];const e=this.$store.getters[`${this.inStore}/all`];return"function"===typeof e&&e(this.resource)||[]},canEdit(){return!this.$fetchState.pending&&!this.loadError}},watch:{rows(){this.processSettings()}},methods:{processSettings(){if(Z.log("processSettings called"),Z.log("settingsApiData:",this.settingsApiData),Z.log("rows:",this.rows),!this.settingsApiData.length||!this.rows.length)return void Z.log("Early return: settingsApiData or rows is empty");const e={},t={},r={},a=[],o={};this.rows.forEach(e=>{Z.log("Resource ID:",e.id,"Name:",e.metadata?.name),o[e.id]=e,e.metadata?.name&&(o[e.metadata.name]=e)}),this.settingsApiData.forEach(a=>{const{id:s,definition:n}=a;Z.log("Processing setting ID:",s);const l=o[s]||this.rows.find(e=>e.id===s||e.metadata?.name===s);Z.log("Found resource for",s,":",!!l),l&&(this.resourceMap[s]=l);const i=l?.value||a.value,{category:c,type:d,displayName:u,description:p,readOnly:g,required:m,options:v}=n;e[c]||(e[c]=[]),e[c].push(s),t[s]={type:d,label:u||s,description:p||"",readOnly:g||!1,required:m||!1},v&&Array.isArray(v)&&(t[s].options=v);let h=i;if("string"===d&&i&&"string"===typeof i&&i.startsWith("{"))try{const e=JSON.parse(i);"object"!==typeof e||null===e||Array.isArray(e)||(t[s].isJsonObject=!0,t[s].jsonKeys=Object.keys(e),h=e)}catch(f){}r[s]=this.parseValue(h,d)});const s=["general","snapshot","system info","orphan","backup","scheduling","danger zone"],n=Object.keys(e).sort((e,t)=>{const r=e.toLowerCase(),a=t.toLowerCase(),o=s.indexOf(r),n=s.indexOf(a);return-1!==o&&-1!==n?o-n:-1!==o?-1:-1!==n?1:e.localeCompare(t)});n.forEach(t=>{a.push({name:t,label:t.charAt(0).toUpperCase()+t.slice(1),children:e[t]})}),this.settings=t,this.groups=a,this.values=r,this.originalValues={...r}},parseValue(e,t){return"bool"===t?"true"===e||!0===e:"int"===t?parseInt(e,10)||0:"object"===typeof e&&null!==e?e:e||""},handleUpdate(e){Object.keys(e).forEach(t=>{const r=e[t],a=this.resourceMap[t];if(a){const e=this.settings[t]?.type||"string";a.value=this.stringifyValue(r,e),Z.log(`Updated ${t} (${e}):`,{newValue:r,stringified:a.value})}}),this.values=e},async save(e){this.errors=[];try{const t=[];Z.log("Save called"),Z.log("Current values:",this.values),Z.log("Original values:",this.originalValues),Z.log("Resource map keys:",Object.keys(this.resourceMap)),Object.keys(this.values).forEach(e=>{const r=this.values[e],a=this.originalValues[e],o=this.resourceMap[e];Z.log(`Checking ${e}:`,{current:r,original:a,changed:JSON.stringify(r)!==JSON.stringify(a),hasResource:!!o}),o&&JSON.stringify(r)!==JSON.stringify(a)&&(Z.log(`Adding ${e} to updates`),t.push(o.save()))}),Z.log(`Total updates: ${t.length}`),t.length>0&&(await Promise.all(t),this.originalValues={...this.values}),e(!0)}catch(t){Z.error("Save error:",t),this.errors.push(t.message||"Failed to save settings"),e(!1)}},stringifyValue(e,t){return"bool"===t||"int"===t?String(e):"object"===typeof e&&null!==e?JSON.stringify(e):e}}};r(99285);const te=(0,W.A)(ee,[["render",l],["__scopeId","data-v-8c1c705a"]]);var re=te},49141:function(e,t,r){"use strict";r.r(t);var a=r(36758),o=r.n(a),s=r(40935),n=r.n(s),l=n()(o());l.push([e.id,".longhorn-settings .header[data-v-8c1c705a]{margin-bottom:20px}.longhorn-settings .header h1[data-v-8c1c705a]{margin-bottom:10px}",""]),t["default"]=l},54023:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var a=r(9274),o=r(65359),s=r(87619),n=r(55008),l=r(69412),i=r(68745),c=r(88339),d=r(3524),u=r(65165);const p={key:1},g=["onMouseenter","onMouseleave"],m=["colspan"];var v={__name:"longhorn.io.node",props:{resource:{type:String,required:!0},schema:{type:Object,required:!0}},setup(e,{expose:t}){const r=e,v=(0,o.Pj)(),h=(0,a.ref)(!0),f=(0,a.ref)(null),y=(0,a.computed)(()=>v.getters["currentProduct"].inStore),k=e=>{if(!y.value)return[];const t=v.getters[`${y.value}/all`];return"function"===typeof t&&t(e)||[]},b=(0,a.computed)(()=>k(r.resource));async function E(){if(h.value=!0,f.value=null,!y.value)return f.value=new Error("Vuex store namespace not found."),void(h.value=!1);try{const e={nodes:v.dispatch(`${y.value}/findAll`,{type:r.resource}),volumes:v.dispatch(`${y.value}/findAll`,{type:d.Y.VOLUMES}),defaultStorageOverProvisioningPercentage:v.dispatch(`${y.value}/find`,{type:d.Y.SETTINGS,id:d.y.STORAGE_OVER_PROVISIONING_PERCENTAGE})};await(0,c.kR)(e)}catch(e){f.value=e}finally{h.value=!1}}return(0,a.onMounted)(E),t({loadError:f,fetchData:E}),(e,t)=>h.value?((0,a.openBlock)(),(0,a.createBlock)((0,a.unref)(s.A),{key:0})):((0,a.openBlock)(),(0,a.createElementBlock)("div",p,[f.value?((0,a.openBlock)(),(0,a.createBlock)(i.A,{key:0,color:"error"},{default:(0,a.withCtx)(()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.t("error.fetchError",{message:f.value.message||String(f.value)})),1)]),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)((0,a.unref)(n.A),{"key-field":"id","sub-rows":!0,"sub-expandable":!0,"sub-expand-column":!0,rows:b.value,schema:r.schema},{"sub-row":(0,a.withCtx)(({row:e,fullColspan:t,onRowMouseEnter:r,onRowMouseLeave:o})=>[(0,a.createElementVNode)("tr",{class:"sub-row",onMouseenter:r,onMouseleave:o},[(0,a.createElementVNode)("td",{colspan:t},[(0,a.createVNode)((0,a.unref)(l.A),{"key-field":"id",headers:(0,a.unref)(u.Gc),rows:e.disks,search:!1,"table-actions":!1,"row-actions":!1,paging:!1},null,8,["headers","rows"])],8,m)],40,g)]),_:1},8,["rows","schema"])]))}};const h=v;var f=h},55581:function(e,t,r){var a=r(65262),o=r(58409),s=r(60467);function n(e){return function(t,r,n){var l=Object(t);if(!o(t)){var i=a(r,3);t=s(t),r=function(e){return i(l[e],e,l)}}var c=e(t,r,n);return c>-1?l[i?t[c]:c]:void 0}}e.exports=n},55680:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var a=r(9274),o=r(65359),s=r(87619),n=r(55008),l=r(68745),i=r(88339),c=r(3524);const d={key:1};var u={__name:"longhorn.io.engineimage",props:{resource:{type:String,required:!0,default:c.Y.ENGINE_IMAGES},schema:{type:Object,required:!0}},setup(e,{expose:t}){const r=e,u=(0,o.Pj)(),p=(0,a.ref)(!0),g=(0,a.ref)(null),m=(0,a.computed)(()=>u.getters["currentProduct"].inStore),v=(0,a.computed)(()=>m.value&&u.getters[`${m.value}/all`](r.resource)||[]),h=(0,a.computed)(()=>v.value);async function f(){if(p.value=!0,g.value=null,!m.value)return g.value=new Error("Vuex store namespace not found."),void(p.value=!1);try{const e={engineImages:u.dispatch(`${m.value}/findAll`,{type:r.resource}),defaultEngineImage:u.dispatch(`${m.value}/find`,{type:c.Y.SETTINGS,id:c.y.DEFAULT_ENGINE_IMAGE})};await(0,i.kR)(e)}catch(e){g.value=e}finally{p.value=!1}}return(0,a.onMounted)(f),t({loadError:g,fetchData:f}),(e,t)=>p.value?((0,a.openBlock)(),(0,a.createBlock)((0,a.unref)(s.A),{key:0})):((0,a.openBlock)(),(0,a.createElementBlock)("div",d,[g.value?((0,a.openBlock)(),(0,a.createBlock)(l.A,{key:0,color:"error"},{default:(0,a.withCtx)(()=>[(0,a.createTextVNode)((0,a.toDisplayString)(e.t("error.fetchError",{message:g.value.message||String(g.value)})),1)]),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)((0,a.unref)(n.A),{rows:h.value,schema:r.schema},null,8,["rows","schema"])]))}};const p=u;var g=p},76776:function(e,t,r){var a=r(55581),o=r(96210),s=a(o);e.exports=s},99285:function(e,t,r){var a=r(49141);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.id,a,""]]),a.locals&&(e.exports=a.locals);var o=r(74825).A;o("1365b775",a,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=longhorn-0.1.0.umd.min.list.js.map